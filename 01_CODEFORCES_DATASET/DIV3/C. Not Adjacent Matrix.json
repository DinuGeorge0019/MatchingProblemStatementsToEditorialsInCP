{"link": "https://codeforces.com//contest/1520/problem/C", "problemId": "976798", "shortId": "1520C", "contest_number": "1520", "name": "C. Not Adjacent Matrix", "statement": "We will consider the numbers  and  as adjacent if they differ by exactly one, that is, .We will consider cells of a square matrix  as adjacent if they have a common side, that is, for cell  cells , ,  and  are adjacent to it.For a given number , construct a square matrix  such that:   Each integer from  to  occurs in this matrix exactly once;  If  and  are adjacent cells, then the numbers written in them . ", "input": "The first line contains one integer  (). Then  test cases follow. Each test case is characterized by one integer  ().", "output": "For each test case, output:    , if the required matrix does not exist;  the required matrix, otherwise (any such matrix if many of them exist).  The matrix should be outputted as  lines, where each line contains  integers.", "tutorial": "Note that  is the only case where there is no answer.For other cases, consider the following construction:   Let's say that the cell  is white if  is an even number, otherwise, we will say that the cell  is black;  Let's arrange the cells so that all white cells are first, and if the colors are equal, the cells will be compared lexicographically.  Arrange numbers from  to  in ordered cells. For example, for , the following matrix will be constructed: ", "solution": "#include <bits/stdc++.h>\nusing namespace std;\n\nvoid solve() {\n  int n;\n  cin >> n;\n  if (n == 1) {\n    cout << \"1\" << endl;\n    return;\n  } else if (n == 2) {\n    cout << \"-1\" << endl;\n    return;\n  }\n  vector<vector<int>> a(n, vector<int>(n));\n  a[0][0] = 1;\n  a[n - 1][n - 1] = n * n;\n  int x = n * n - 1;\n  for (int i = 1; i + 1 < n; i++) {\n    for (int j = i; j >= 0; j--, x--) {\n      a[i - j][j] = x;\n    }\n  }\n  x = 2;\n  for (int j = n - 2; j > 0; j--) {\n    for (int i = 0; i < n - j; i++, x++) {\n      a[n - i - 1][j + i] = x;\n    }\n  }\n  for (int i = n - 1; i >= 0; i--, x++) {\n    a[i][n - i - 1] = x;\n  }\n  for (int i = 0; i < n; i++) {\n    for (int j = 0; j < n; j++) {\n      cout << a[i][j] << \" \";\n    }\n    cout << endl;\n  }\n}\n\nint main() {\n  int tests;\n  cin >> tests;\n  while (tests-- > 0) {\n    solve();\n  }\n  return 0;\n}", "interactive": false, "noSolution": false, "noTutorial": false}